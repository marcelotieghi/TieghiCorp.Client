@using TieghiCorp.UI.Core.Models.Abstract

@typeparam TModel where TModel : BaseModel

<MudForm Model="@Model" OnValidSubmit="HandleSave" @ref="EditForm">

    <MudCard Style="width: 75%; margin: auto" Class="px-5 mt-20 rounded" Outlined="true">
        <MudCardHeader Class="d-flex justify-center">
            <MudText Typo="Typo.h4" Color="Color.Primary">
                @Title
            </MudText>
        </MudCardHeader>

        <MudCardContent>
            @Inputs
        </MudCardContent>

        <MudCardActions Class="px-4 mb-2 justify-end">
            @if (IsBusy)
            {
                <MudProgressCircular Indeterminate="true" Color="Color.Primary" />
            }
            else
            {
                <MudButton 
                    Class="me-2"
                    OnClick="HandleCancel"
                    Variant="Variant.Filled"
                    Color="Color.Error">
                    Cancel
                </MudButton>
                <MudButton 
                    OnClick="HandleSave"
                    Variant="Variant.Filled"
                    Color="Color.Success"
                    Disabled="@(!IsFormValid())">
                    Save
                </MudButton>
            }
        </MudCardActions>
    </MudCard>

</MudForm>