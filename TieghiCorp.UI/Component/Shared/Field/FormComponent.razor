@using TieghiCorp.UI.Core.Models.Abstract

@typeparam TModel where TModel : BaseModel

<MudForm Model="@Model" OnValidSubmit="HandleSave" @ref="EditForm">

    <MudCard>

        <MudCardContent Class="px-0">
            @Inputs
        </MudCardContent>

        <MudCardActions Class="px-0 py-4 justify-end">
            @if (IsBusy)
            {
                <MudProgressCircular Indeterminate="true" Color="Color.Primary" />
            }
            else
            {
                <MudButton 
                    Class="me-2"
                    OnClick="HandleCancel"
                    Variant="Variant.Filled"
                    Color="Color.Error">
                    Cancel
                </MudButton>
                <MudButton 
                    OnClick="HandleSave"
                    Variant="Variant.Filled"
                    Color="Color.Success"
                    Disabled="@(!IsFormValid())">
                    Save
                </MudButton>
            }
        </MudCardActions>
    </MudCard>

</MudForm>